{% extends "Formation/layout.html.twig" %}

{% block content_title %}
    {{ 'formation.formations_liste'|trans({}, 'formation') }}
{% endblock %}

{% block content_bundle %}
    <table class="table table-bordered table-striped">
        <tr>
            <th>{{ 'formation.titre'|trans({}, 'formation') }}</th>
            <th>{{ 'formation.categorie'|trans({}, 'formation') }}</th>
            <th>{{ 'formation.date'|trans({}, 'formation') }}</th>
            <th>{{ 'formation.documents_nb'|trans({}, 'formation') }}</th>
            <th>{{ 'formation.description'|trans({}, 'formation') }}</th>
            <th>{{ 'formation.formateurs'|trans({}, 'formation') }}</th>
            <th>{{ 'formation.duree'|trans({}, 'formation') }}</th>
        </tr>
        {% for mandat, formations in formationsParMandat %}
            <tr>
                <th colspan="7">{{ 'formation.mandat'|trans({}, 'formation') }} {{ mandat }}</th>
            </tr>
            {% for formation in formations | reverse %}
                <tr>
                    
                    <td><a href="{{ path('formation_voir', {'id': formation.id}) }}">{{ formation.titre | title }}</td>
                    <td>{{ formation.categoriesChoiceToString() }}</td>
                    <td>{{ formation.dateDebut | date("d/m/Y") }}</td>
                    <td>
                        {{ formation.relatedDocuments | length }}
                    </td>
                    <td>{{ formation.description | nl2br }}</td>
                    <td>{% for personne in formation.formateurs %} {{ personne.prenomNom }};{% endfor %}</td>
                    <td>{{ (formation.dateFin | date("U") - formation.dateDebut | date("U")) / 60 }} {{ 'formation.minutes'|trans({}, 'formation') }}</td>
                </tr>
            {% endfor %}
        {% endfor %}
    </table>
{% endblock %}
